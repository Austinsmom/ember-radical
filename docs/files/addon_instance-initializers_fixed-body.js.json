{
  "file": "addon/instance-initializers/fixed-body.js",
  "content": "<pre class=\"language-javascript line-numbers\"><code class=\"language-javascript}\"><span aria-hidden=\"true\" role=\"presentation\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span>\n<span class=\"token comment\" spellcheck=\"true\">/**\n * This initializer handles sniffing the current browser's scrollbar width. This\n * is used by modals to handle freezing the body on open, but can be used by\n * any fixed width element that needs to freeze the body using the class\n * `.fixed-scroll-padding-element`.\n * @class InstanceInitializer.FixedBody\n * @constructor\n */</span>\n<span class=\"token comment\" spellcheck=\"true\">/**\n * @method initialize\n * @static\n * @return {undefined}\n */</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">initialize</span><span class=\"token punctuation\">(</span><span class=\"token comment\" spellcheck=\"true\">/* appInstance */</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token comment\" spellcheck=\"true\">// Browser hack to find the scrollbar width - used for fixed position modals and scrollable divs</span>\n  <span class=\"token keyword\">let</span> scrollDiv <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> fixedBodyTag <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'style'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\" spellcheck=\"true\">// Class name required to force a scroll bar to show</span>\n  scrollDiv<span class=\"token punctuation\">.</span>className <span class=\"token operator\">=</span> <span class=\"token string\">'scrollbar-measure'</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\" spellcheck=\"true\">// Get the scrollbar width</span>\n  document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>scrollDiv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> scrollbarWidth <span class=\"token operator\">=</span> scrollDiv<span class=\"token punctuation\">.</span>offsetWidth <span class=\"token operator\">-</span> scrollDiv<span class=\"token punctuation\">.</span>clientWidth<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">removeChild</span><span class=\"token punctuation\">(</span>scrollDiv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\" spellcheck=\"true\">// Add styles for modal adjust</span>\n  fixedBodyTag<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span>\n    <span class=\"token template-string\"><span class=\"token string\">`body.fixed-body { overflow: hidden; }\n\n    body.fixed-body,\n    body.fixed-body .fixed-scroll-padding-element { padding-right: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>scrollbarWidth<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px; }`</span></span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\" spellcheck=\"true\">// Append fixed body styles to head</span>\n  fixedBodyTag<span class=\"token punctuation\">.</span>className <span class=\"token operator\">=</span> <span class=\"token string\">'fixed-body'</span><span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>fixedBodyTag<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token punctuation\">:</span> <span class=\"token string\">'fixed-body'</span><span class=\"token punctuation\">,</span>\n  initialize\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre>"
}